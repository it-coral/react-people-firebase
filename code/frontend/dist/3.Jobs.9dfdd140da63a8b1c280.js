webpackJsonp([3],{498:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,s,r=a(6),u=l(r),c=a(4),d=l(c),f=a(5),p=l(f),h=a(8),_=l(h),g=a(7),m=l(g),b=a(1),k=l(b),v=a(34),S=a(43),y=(l(S),a(28)),T=(l(y),a(39)),x=l(T),C=a(84),L=l(C),w=a(64),J=l(w),N=a(386),P=(l(N),a(70)),E=a(122),F=(l(E),a(234)),U=a(340),q=(l(U),a(108)),H=(l(q),a(35)),O=(l(H),a(37),a(628)),R=l(O),A=a(273),G=(l(A),a(175)),j=l(G),M=a(134),W=(l(M),n=(0,v.reduxForm)({form:"newJob"}),n((s=i=function(e){function t(){var e,a,l,n;(0,d.default)(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=l=(0,_.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),l.state={open:l.props.open||!1,occupation:"",soft_skill:"",soft_skills:[],hard_skill:"",profile_location:"",profile_language_name:"",profile_language_proficiency:"",language:"en"},l.close=function(){l.setState({open:!1})},l.handleUpdateJobTitle=function(e){l.props.handleChangeJobTitle(l.state.language,e),l.setState({occupation:e})},l.handleUpdateSoftSkills=function(e){l.props.handleChangeSoftSkills(l.state.language,e),l.setState({soft_skill:e})},l.handleUpdateHardSkills=function(e){l.props.handleChangeHardSkills(l.state.language,e),l.setState({hard_skill:e})},l.handleUpdateProfileLocation=function(e){l.props.handleLocation(l.state.language,e),l.setState({profile_location:e})},l.handleUpdateProfileLanguageName=function(e){l.props.handleChangeProfileLanguage(l.state.language,e),l.setState({profile_language_name:e})},l.handleSubmit=function(){var e={contract_type_list:[],description:null,education_list:[],function_list:[],industry_list:[],janzz_id:1234,janzz_updated:null,keyword_list:[],language_captured:null,language_list:[],location_list:[],occupation:"1st job test",skill_list:[],softskill_list:[],specialization_list:[],title:null,unique_id:null};e.occupation=l.state.occupation,e.location_list.push({name:l.state.profile_location}),l._hard_skill.getTags().forEach(function(t){e.skill_list.push({skill:t.label,level:1})}),l._soft_skill.getTags().forEach(function(t){e.softskill_list.push({skill:t.label,level:1})}),e.language_list.push({name:l.state.profile_language_name,proficiency:l.state.profile_language_proficiency,proficiency2:l.state.profile_language_proficiency}),console.log(e),l.props.handlePostJob(e)},l.handleLanguageChange=function(e,t,a){l.setState({language:a}),l.props.handleChangeLang(a)},l.handleUpdateProfileProficiency=function(e,t,a){l.setState({profile_language_proficiency:a})},l.handleUpdateSoftSkillsTag=function(e){l.props.handleChangeSoftSkills(l.state.language,e);var t=l.state.soft_skills;t.push(e),l.setState({soft_skills:t})},l.handleAfterAddedTagSoft=function(){l.setState({soft_skill:""})},l.handleAfterAddedTagHard=function(){l.setState({hard_skill:""}),console.log("fdsafdsafdsa",l._hard_skill)},l.handleOccupationNewRequest=function(e,t){console.log("searchText ",l.state.language),l.setState({occupation:e.text}),l.props.handleOccupationForSoftSkill(l.state.language,e.text),l.props.handleOccupationForHardSkill(l.state.language,e.text)},l.handleLocationNewRequest=function(e,t){l.setState({profile_location:e.text})},l.handleLanguageNewRequest=function(e,t){console.log(e),l.setState({profile_language_name:e.text})},n=a,(0,_.default)(l,n)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){console.log(this.props.children)}},{key:"componentWillReceiveProps",value:function(e){e.open&&this.setState({open:!0})}},{key:"render",value:function(){var e=this,t=(this.state.open,[k.default.createElement(x.default,{label:"Tell People",secondary:!0}),k.default.createElement(x.default,{label:"Find Talent",className:R.default.findtalent,onClick:this.props.handleFindTalent,primary:!0}),k.default.createElement(x.default,{label:"Save",type:"submit",onClick:this.handleSubmit.bind(this),className:R.default.createbutton,primary:!0})]);return k.default.createElement(P.Card,{className:R.default.container},k.default.createElement("div",{className:"row"},k.default.createElement("div",{className:"col-xs-12 col-sm-7"},k.default.createElement(P.CardTitle,{title:"New Job Description",subtitle:"JDW"})),k.default.createElement("div",{className:"col-xs-12 col-sm-offset-1 col-sm-4"},k.default.createElement(L.default,{floatingLabelText:"Language of Job Description",value:this.state.language,onChange:this.handleLanguageChange,fullWidth:!0},k.default.createElement(J.default,{value:null,primaryText:""}),k.default.createElement(J.default,{value:"en",primaryText:"English"}),k.default.createElement(J.default,{value:"de",primaryText:"German"})))),k.default.createElement(F.ValidatorForm,{ref:"form",className:R.default.form,onSubmit:this.handleSubmit,onError:function(e){return console.log(e)}},k.default.createElement("div",{className:"row"},k.default.createElement("div",{className:"col-xs-12 col-sm-7"},k.default.createElement(F.AutoCompleteValidator,{name:"occupation",floatingLabelText:"Job Title",animated:!1,menuCloseDelay:100,searchText:this.state.occupation,onUpdateInput:this.handleUpdateJobTitle,onNewRequest:this.handleOccupationNewRequest,maxSearchResults:8,dataSource:this.props.occupations,filter:function(e,t){return t.toLowerCase().indexOf(e.toLowerCase())!==-1},fullWidth:!0,value:this.state.occupation,validators:["required"],errorMessages:["This field is required"]})),k.default.createElement("div",{className:"col-xs-12 col-sm-offset-1 col-sm-4"}),k.default.createElement("div",{className:"col-xs-12 col-sm-12"},k.default.createElement(F.AutoCompleteValidator,{name:"profile_location",floatingLabelText:"Profile Location",searchText:this.state.profile_location,onUpdateInput:this.handleUpdateProfileLocation,onNewRequest:this.handleLocationNewRequest,maxSearchResults:8,dataSource:this.props.profile_locations,filter:function(e,t){return t.toLowerCase().indexOf(e.toLowerCase())!==-1},fullWidth:!0,validators:["required"],value:this.state.profile_location,errorMessages:["This field is required"]})),k.default.createElement("div",{className:"col-xs-12 col-sm-12"},k.default.createElement(j.default,{name:"hard_skill",textField:{floatingLabelText:"Hard Skills",maxSearchResults:8},searchText:this.state.hard_skill,defTags:this.props.def_hard_skills,sourceTags:this.props.hard_skills,onChange:this.handleUpdateHardSkills.bind(this),onAdd:this.handleAfterAddedTagHard.bind(this),value:this.state.hard_skill,ref:function(t){return e._hard_skill=t}})),k.default.createElement("div",{className:"col-xs-12 col-sm-12"},k.default.createElement(j.default,{name:"soft_skill",defTags:this.props.def_soft_skills,sourceTags:this.props.soft_skills,textField:{floatingLabelText:"Soft Skills",maxSearchResults:8},searchText:this.state.soft_skill,value:this.state.soft_skill,onChange:this.handleUpdateSoftSkills.bind(this),onAdd:this.handleAfterAddedTagSoft.bind(this),ref:function(t){return e._soft_skill=t}})),k.default.createElement("div",{className:"col-xs-12 col-sm-7"},k.default.createElement(F.AutoCompleteValidator,{name:"profile_language_name",floatingLabelText:"The talend should speak",searchText:this.state.profile_language_name,onUpdateInput:this.handleUpdateProfileLanguageName,onNewRequest:this.handleLanguageNewRequest,maxSearchResults:8,dataSource:this.props.profile_language_names,filter:function(e,t){return t.toLowerCase().indexOf(e.toLowerCase())!==-1},fullWidth:!0,value:this.state.profile_language_name,validators:["required"],errorMessages:["This field is required"]})),k.default.createElement("div",{className:"col-xs-12 col-sm-offset-1 col-sm-4"},k.default.createElement(F.SelectValidator,{floatingLabelText:"Proficiency level",name:"profile_language_proficiency",value:this.state.profile_language_proficiency,onChange:this.handleUpdateProfileProficiency,fullWidth:!0,validators:["required"],errorMessages:["This field is required"]},k.default.createElement(J.default,{value:0,primaryText:"Elementary"}),k.default.createElement(J.default,{value:1,primaryText:"Limited"}),k.default.createElement(J.default,{value:2,primaryText:"Professional"}),k.default.createElement(J.default,{value:3,primaryText:"Fluent"}),k.default.createElement(J.default,{value:4,primaryText:"Native or Bilingual"}))),k.default.createElement("div",{className:"col-xs-12 col-sm-12"},k.default.createElement("div",{className:R.default.buttongroup},t)))))}}]),t}(b.Component),i.propTypes={key:b.PropTypes.number,occupations:b.PropTypes.array,soft_skills:b.PropTypes.array,hard_skills:b.PropTypes.array,def_soft_skills:b.PropTypes.array,def_hard_skills:b.PropTypes.array,profile_locations:b.PropTypes.array,profile_language_names:b.PropTypes.array},o=s))||o);t.default=W},499:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(498),o=l(n);t.default=o.default},500:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,s,r,u=a(6),c=l(u),d=a(4),f=l(d),p=a(5),h=l(p),_=a(8),g=l(_),m=a(7),b=l(m),k=a(1),v=l(k),S=a(23),y=a(29),T=a(118),x=l(T),C=a(17),L=a(58),w=a(67),J=l(w),N=a(499),P=l(N),E=a(629),F=l(E),U=a(134),q=l(U),H=(n=(0,y.firebaseConnect)(),o=(0,S.connect)(function(e){var t=e.firebase;return{auth:(0,y.pathToJS)(t,"auth"),account:(0,y.pathToJS)(t,"profile")}}),(0,L.UserIsAuthenticated)(i=n(i=o((r=s=function(e){function t(){var e,a,l,n;(0,f.default)(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=l=(0,g.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),l.state={newJob:!0,myJob:!1,occupations:[],soft_skills:[],def_soft_skills:[],hard_skills:[],def_hard_skills:[],profile_locations:[],profile_language_names:[],profile_language_proficiencys:[],lang:"en",id:1223232342},n=a,(0,g.default)(l,n)}return(0,b.default)(t,e),(0,h.default)(t,[{key:"createLabels",value:function(e){var t=e.map(function(e){return{value:e.label,text:e.label}});return t}},{key:"createLabelsLocation",value:function(e){var t=e.map(function(e){return{value:e.description,text:e.description}});return t}},{key:"createLabelsSkill",value:function(e){var t=e.map(function(e){return{value:e.label,label:e.label}});return console.log(t),t}},{key:"apiCall",value:function(e){var t=this;q.default.apiGetJobTitle(e).then(function(e){var a=t.createLabels(e.data);t.setState({occupations:a})}),q.default.apiGetSoftSkills(e).then(function(e){var a=t.createLabels(e.data);t.setState({soft_skills:a})}),q.default.apiGetHardSkills(e).then(function(e){var a=t.createLabels(e.data);t.setState({hard_skills:a})}),q.default.apiGetProfileLanguage(e).then(function(e){var a=t.createLabels(e.data);t.setState({profile_language_names:a})})}},{key:"componentWillMount",value:function(){console.log(this.props.params)}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=e.props,a=t.auth,l=t.account;if(void 0!=a){var n=x.default.hmac(C.SHA256_KEY,a.email);window.dataLayerCall(a.email,l.name+" "+l.surname,n)}},1e3),this.apiCall(this.state.lang)}},{key:"handleLocation",value:function(e,t){var a=this;""!=t&&q.default.apiGetProfileLocation(e,t).then(function(e){var t=a.createLabelsLocation(e.data.predictions);console.log(t),a.setState({profile_locations:t})})}},{key:"handleChangeLang",value:function(e){e!=this.state.lang&&(this.apiCall(e),this.setState({lang:e}))}},{key:"handleChangeJobTitle",value:function(e,t){var a=this;q.default.apiGetJobTitle(e,t).then(function(e){var t=a.createLabels(e.data);t!=[]&&a.setState({occupations:t})})}},{key:"handleChangeProfileLanguage",value:function(e,t){var a=this;q.default.apiGetProfileLanguage(e,t).then(function(e){var t=a.createLabels(e.data);a.setState({profile_language_names:t})})}},{key:"handleChangeSoftSkills",value:function(e,t){var a=this;q.default.apiGetSoftSkills(e,t).then(function(e){var t=a.createLabels(e.data);a.setState({soft_skills:t})})}},{key:"handleChangeHardSkills",value:function(e,t){var a=this;q.default.apiGetHardSkills(e,t).then(function(e){var t=a.createLabels(e.data);a.setState({hard_skills:t})})}},{key:"handleOccupationForSoftSkill",value:function(e,t){var a=this;q.default.apiGetSoftSkillsRelatedToJobTitle(e,t).then(function(e){console.log("res ",e);var t=a.createLabelsSkill(e.data.results);a.setState({def_soft_skills:t})})}},{key:"handleOccupationForHardSkill",value:function(e,t){var a=this;q.default.apiGetHardSkillsRelatedToJobTitle(e,t).then(function(e){console.log("res ",e);var t=a.createLabelsSkill(e.data.results);a.setState({def_hard_skills:t})})}},{key:"handlePostJob",value:function(e){var t=this;q.default.apiPostJob(e).then(function(e){console.log("res",e),t.context.router.push(""+C.MY_JOB_PATH)})}},{key:"handleFindTalent",value:function(){this.context.router.push(C.LONG_LIST_PATH)}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.params;if(!(0,y.isLoaded)(t))return v.default.createElement(J.default,null);if(this.props.children)return(0,k.cloneElement)(this.props.children,this.props);var l=!1;console.log(a.id),void 0!=a.id&&(l=!0),console.log(l);this.state.newJob;return v.default.createElement("div",{className:F.default.container},v.default.createElement(P.default,{occupations:this.state.occupations,soft_skills:this.state.soft_skills,def_soft_skills:this.state.def_soft_skills,hard_skills:this.state.hard_skills,def_hard_skills:this.state.def_hard_skills,profile_locations:this.state.profile_locations,profile_language_names:this.state.profile_language_names,key:this.state.id,handleLocation:this.handleLocation.bind(this),handleChangeLang:this.handleChangeLang.bind(this),handleChangeJobTitle:this.handleChangeJobTitle.bind(this),handleChangeProfileLanguage:this.handleChangeProfileLanguage.bind(this),handleChangeSoftSkills:this.handleChangeSoftSkills.bind(this),handleChangeHardSkills:this.handleChangeHardSkills.bind(this),handleFindTalent:this.handleFindTalent.bind(this),handleOccupationForSoftSkill:this.handleOccupationForSoftSkill.bind(this),handleOccupationForHardSkill:this.handleOccupationForHardSkill.bind(this),handlePostJob:this.handlePostJob.bind(this)}))}}]),t}(k.Component),s.contextTypes={router:v.default.PropTypes.object.isRequired},s.propTypes={jobs:k.PropTypes.object,firebase:k.PropTypes.object,auth:k.PropTypes.object,children:k.PropTypes.object,account:k.PropTypes.object,params:k.PropTypes.object},i=r))||i)||i)||i);t.default=H},628:function(e,t){e.exports={buttons:"NewJobComponent__buttons___35fyX",flex:"NewJobComponent__flex___2c_Ow","flex-column":"NewJobComponent__flex-column___1cPL0","flex-column-center":"NewJobComponent__flex-column-center___3VeKU","flex-row":"NewJobComponent__flex-row___2ZNrk","flex-row-center":"NewJobComponent__flex-row-center___3R_qG",inputs:"NewJobComponent__inputs___2OvuV",container:"NewJobComponent__container___1WXkU",form:"NewJobComponent__form___2hSVT",autocomplete:"NewJobComponent__autocomplete___2vZTJ",createbutton:"NewJobComponent__createbutton___3Uwon",buttongroup:"NewJobComponent__buttongroup___1KnPF",findtalent:"NewJobComponent__findtalent___10khQ"}},629:function(e,t){e.exports={container:"JobContainer__container___1tGQR",flex:"JobContainer__flex___3FwNQ","flex-column":"JobContainer__flex-column___EptJx","flex-column-center":"JobContainer__flex-column-center___2T2Ch","flex-row":"JobContainer__flex-row___1HN4e","flex-row-center":"JobContainer__flex-row-center___2U8Kc",progress:"JobContainer__progress___FpugF",tiles:"JobContainer__tiles___23t8w"}}});